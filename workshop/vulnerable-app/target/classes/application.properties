# ===========================================
# Configuration de l'application VulnerableBank
# ATTENTION: Cette configuration est VOLONTAIREMENT VULNÉRABLE
# à des fins pédagogiques !
# ===========================================

# Nom de l'application
spring.application.name=VulnerableBank

# Port du serveur
server.port=8080

# ===========================================
# VULNÉRABILITÉ : Base de données
# ===========================================

# H2 Database en mode mémoire
spring.datasource.url=jdbc:h2:mem:vulnerablebank
spring.datasource.driverClassName=org.h2.Driver

# VULNÉRABILITÉ : Credentials en dur
spring.datasource.username=admin
spring.datasource.password=admin123

# JPA/Hibernate
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=always

# VULNÉRABILITÉ : Console H2 activée sans protection
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=true

# ===========================================
# VULNÉRABILITÉ : Configuration du serveur
# ===========================================

# VULNÉRABILITÉ : Expose les erreurs détaillées
server.error.include-message=always
server.error.include-stacktrace=always
server.error.include-exception=true
server.error.include-binding-errors=always

# VULNÉRABILITÉ : Mode debug activé en production
logging.level.root=DEBUG
logging.level.com.example.vulnerable=DEBUG
logging.level.org.springframework=DEBUG
logging.level.org.hibernate.SQL=DEBUG

# VULNÉRABILITÉ : Pas de timeout de session
server.servlet.session.timeout=24h

# ===========================================
# VULNÉRABILITÉ : Actuator exposé
# ===========================================

# VULNÉRABILITÉ : Tous les endpoints actuator exposés
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.endpoint.env.enabled=true
management.endpoint.configprops.enabled=true

# ===========================================
# VULNÉRABILITÉ : Configuration de fichiers
# ===========================================

# VULNÉRABILITÉ : Upload sans limite
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# ===========================================
# VULNÉRABILITÉ : Informations sensibles
# ===========================================

# VULNÉRABILITÉ : Clés API en clair dans la config
app.api.key=sk_live_1234567890abcdef
app.secret.key=super_secret_key_12345
app.jwt.secret=jwt_secret_very_weak

# VULNÉRABILITÉ : Credentials de services externes
app.smtp.password=smtp_password_123
app.aws.access-key=AKIAIOSFODNN7EXAMPLE
app.aws.secret-key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# Base de données externe (exemple)
app.external.db.password=external_db_password

# ===========================================
# Thymeleaf
# ===========================================

spring.thymeleaf.cache=false
spring.thymeleaf.mode=HTML
